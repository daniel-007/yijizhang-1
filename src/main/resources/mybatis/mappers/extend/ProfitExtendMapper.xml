<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="cn.ahyc.yjz.mapper.extend.ProfitExtendMapper">
  <resultMap id="ReportRow" type="cn.ahyc.yjz.dto.ReportRow">
    <constructor>
      <arg column="fix" javaType="java.lang.String" jdbcType="VARCHAR" />
      <arg column="cA" javaType="java.lang.String" jdbcType="VARCHAR" />
      <arg column="cB" javaType="java.lang.String" jdbcType="VARCHAR" />
      <arg column="cC" javaType="java.lang.String" jdbcType="VARCHAR" />
    </constructor>
  </resultMap>

  <select id="selectProfitExpressionColumn" resultMap="ReportRow">
    select
    	'1' as fix,
    	t.name as cA,
    	t.month_exp as cB,
    	t.last_month_exp as cC
    from
    	profit_template t
   	order by t.id asc
  </select>
  
  <select id="selectProfitWithPeriod" parameterType="java.util.Map" resultType="java.util.Map">
    select
    	t.fix as fix,
    	t.name as cA,
    	t.month_exp as cB,
    	t.last_month_exp as cC,
    	t.month_money as cBVal,
    	t.last_month_money as cCVal
    from
    	profit_template t
    where t.current_period = #{currentPeriod,jdbcType=BIGINT}
    and t.book_id = #{bookId,jdbcType=BIGINT}
   	order by t.id asc
  </select>
</mapper>