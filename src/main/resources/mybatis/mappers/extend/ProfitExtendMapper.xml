<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="cn.ahyc.yjz.mapper.extend.ProfitExtendMapper">
  <resultMap id="ReportRow" type="cn.ahyc.yjz.dto.ReportRow">
    <constructor>
      <arg column="fix" javaType="java.lang.String" jdbcType="VARCHAR" />
      <arg column="cA" javaType="java.lang.String" jdbcType="VARCHAR" />
      <arg column="cB" javaType="java.lang.String" jdbcType="VARCHAR" />
      <arg column="cC" javaType="java.lang.String" jdbcType="VARCHAR" />
    </constructor>
  </resultMap>

  <select id="selectProfitExpressionColumn" resultMap="ReportRow">
    select
    	'1' as fix,
    	t.name as cA,
    	t.month_exp as cB,
    	t.last_month_exp as cC
    from
    	profit_template t
   	order by t.id asc
  </select>
  
  <select id="selectProfitWithPeriod" parameterType="java.util.Map" resultType="java.util.Map">
    select
    	t.fix as fix,
    	t.name as cA,
    	t.month_exp as cB,
    	t.last_month_exp as cC,
    	t.month_money as cBVal,
    	t.last_month_money as cCVal
    from
    	profit_period t
    where t.current_period = #{currentPeriod,jdbcType=BIGINT}
    and t.book_id = #{bookId,jdbcType=BIGINT}
   	order by t.id asc
  </select>
  
  <insert id="insertSelective" parameterType="cn.ahyc.yjz.dto.ProfitPeriod">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Mon Nov 02 10:32:28 CST 2015.
    -->
    insert into profit_period
    <trim prefix="(" suffix=")" suffixOverrides=",">
      <if test="id != null">
        id,
      </if>
      <if test="name != null">
        name,
      </if>
      <if test="fix != null">
        fix,
      </if>
      <if test="monthExp != null">
        month_exp,
      </if>
      <if test="monthMoney != null">
        month_money,
      </if>
      <if test="lastMonthExp != null">
        last_month_exp,
      </if>
      <if test="lastMonthMoney != null">
        last_month_money,
      </if>
      <if test="bookId != null">
        book_id,
      </if>
      <if test="currentPeriod != null">
        current_period,
      </if>
      <if test="createTime != null">
        create_time,
      </if>
      <if test="modifyTime != null">
        modify_time,
      </if>
    </trim>
    <trim prefix="values (" suffix=")" suffixOverrides=",">
      <if test="id != null">
        #{id,jdbcType=BIGINT},
      </if>
      <if test="name != null">
        #{name,jdbcType=VARCHAR},
      </if>
      <if test="fix != null">
        #{fix,jdbcType=INTEGER},
      </if>
      <if test="monthExp != null">
        #{monthExp,jdbcType=VARCHAR},
      </if>
      <if test="monthMoney != null">
        #{monthMoney,jdbcType=DECIMAL},
      </if>
      <if test="lastMonthExp != null">
        #{lastMonthExp,jdbcType=VARCHAR},
      </if>
      <if test="lastMonthMoney != null">
        #{lastMonthMoney,jdbcType=DECIMAL},
      </if>
      <if test="bookId != null">
        #{bookId,jdbcType=BIGINT},
      </if>
      <if test="currentPeriod != null">
        #{currentPeriod,jdbcType=INTEGER},
      </if>
      <if test="createTime != null">
        #{createTime,jdbcType=TIMESTAMP},
      </if>
      <if test="modifyTime != null">
        #{modifyTime,jdbcType=TIMESTAMP},
      </if>
    </trim>
  </insert>
</mapper>